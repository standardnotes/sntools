(()=>{var t={484:function(t){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",i="day",s="week",o="month",a="quarter",u="year",c="date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},l=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},m={s:l,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+l(r,2,"0")+":"+l(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,o),s=n-i<0,a=e.clone().add(r+(s?-1:1),o);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(f){return{M:o,y:u,w:s,d:i,D:c,h:r,m:n,s:e,ms:t,Q:a}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p="en",$={};$[p]=h;var g=function(t){return t instanceof v},D=function(t,e,n){var r;if(!t)return p;if("string"==typeof t)$[t]&&(r=t),e&&($[t]=e,r=t);else{var i=t.name;$[i]=t,r=i}return!n&&r&&(p=r),r||!n&&p},M=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new v(n)},x=m;x.l=D,x.i=g,x.w=function(t,e){return M(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var v=function(){function h(t){this.$L=D(t.locale,null,!0),this.parse(t)}var l=h.prototype;return l.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(f);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},l.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},l.$utils=function(){return x},l.isValid=function(){return!("Invalid Date"===this.$d.toString())},l.isSame=function(t,e){var n=M(t);return this.startOf(e)<=n&&n<=this.endOf(e)},l.isAfter=function(t,e){return M(t)<this.startOf(e)},l.isBefore=function(t,e){return this.endOf(e)<M(t)},l.$g=function(t,e,n){return x.u(t)?this[e]:this.set(n,t)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(t,a){var f=this,d=!!x.u(a)||a,h=x.p(t),l=function(t,e){var n=x.w(f.$u?Date.UTC(f.$y,e,t):new Date(f.$y,e,t),f);return d?n:n.endOf(i)},m=function(t,e){return x.w(f.toDate()[t].apply(f.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),f)},p=this.$W,$=this.$M,g=this.$D,D="set"+(this.$u?"UTC":"");switch(h){case u:return d?l(1,0):l(31,11);case o:return d?l(1,$):l(0,$+1);case s:var M=this.$locale().weekStart||0,v=(p<M?p+7:p)-M;return l(d?g-v:g+(6-v),$);case i:case c:return m(D+"Hours",0);case r:return m(D+"Minutes",1);case n:return m(D+"Seconds",2);case e:return m(D+"Milliseconds",3);default:return this.clone()}},l.endOf=function(t){return this.startOf(t,!1)},l.$set=function(s,a){var f,d=x.p(s),h="set"+(this.$u?"UTC":""),l=(f={},f[i]=h+"Date",f[c]=h+"Date",f[o]=h+"Month",f[u]=h+"FullYear",f[r]=h+"Hours",f[n]=h+"Minutes",f[e]=h+"Seconds",f[t]=h+"Milliseconds",f)[d],m=d===i?this.$D+(a-this.$W):a;if(d===o||d===u){var p=this.clone().set(c,1);p.$d[l](m),p.init(),this.$d=p.set(c,Math.min(this.$D,p.daysInMonth())).$d}else l&&this.$d[l](m);return this.init(),this},l.set=function(t,e){return this.clone().$set(t,e)},l.get=function(t){return this[x.p(t)]()},l.add=function(t,a){var c,f=this;t=Number(t);var d=x.p(a),h=function(e){var n=M(f);return x.w(n.date(n.date()+Math.round(e*t)),f)};if(d===o)return this.set(o,this.$M+t);if(d===u)return this.set(u,this.$y+t);if(d===i)return h(1);if(d===s)return h(7);var l=(c={},c[n]=6e4,c[r]=36e5,c[e]=1e3,c)[d]||1,m=this.$d.getTime()+t*l;return x.w(m,this)},l.subtract=function(t,e){return this.add(-1*t,e)},l.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=x.z(this),i=this.$locale(),s=this.$H,o=this.$m,a=this.$M,u=i.weekdays,c=i.months,f=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},h=function(t){return x.s(s%12||12,t,"0")},l=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:x.s(a+1,2,"0"),MMM:f(i.monthsShort,a,c,3),MMMM:f(c,a),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:f(i.weekdaysMin,this.$W,u,2),ddd:f(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(s),HH:x.s(s,2,"0"),h:h(1),hh:h(2),a:l(s,o,!0),A:l(s,o,!1),m:String(o),mm:x.s(o,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:r};return n.replace(d,(function(t,e){return e||m[t]||r.replace(":","")}))},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(t,c,f){var d,h=x.p(c),l=M(t),m=6e4*(l.utcOffset()-this.utcOffset()),p=this-l,$=x.m(this,l);return $=(d={},d[u]=$/12,d[o]=$,d[a]=$/3,d[s]=(p-m)/6048e5,d[i]=(p-m)/864e5,d[r]=p/36e5,d[n]=p/6e4,d[e]=p/1e3,d)[h]||p,f?$:x.a($)},l.daysInMonth=function(){return this.endOf(o).$D},l.$locale=function(){return $[this.$L]},l.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=D(t,e,!0);return r&&(n.$L=r),n},l.clone=function(){return x.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},h}(),y=v.prototype;return M.prototype=y,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",o],["$y",u],["$D",c]].forEach((function(t){y[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),M.extend=function(t,e){return t.$i||(t(e,v,M),t.$i=!0),M},M.locale=D,M.isDayjs=g,M.unix=function(t){return M(1e3*t)},M.en=$[p],M.Ls=$,M.p={},M}()},285:function(t){t.exports=function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=function(e,n){return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,r,i){var s=i&&i.toUpperCase();return r||n[i]||t[i]||n[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))},n=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,i=/\d\d?/,s=/\d*[^\s\d-_:/()]+/,o={},a=function(t){return function(e){this[t]=+e}},u=[/[+-]\d\d:?(\d\d)?/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],c=function(t){var e=o[t];return e&&(e.indexOf?e:e.s.concat(e.f))},f=function(t,e){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(t.indexOf(r(i,0,e))>-1){n=i>12;break}}else n=t===(e?"pm":"PM");return n},d={A:[s,function(t){this.afternoon=f(t,!1)}],a:[s,function(t){this.afternoon=f(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[r,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[i,a("seconds")],ss:[i,a("seconds")],m:[i,a("minutes")],mm:[i,a("minutes")],H:[i,a("hours")],h:[i,a("hours")],HH:[i,a("hours")],hh:[i,a("hours")],D:[i,a("day")],DD:[r,a("day")],Do:[s,function(t){var e=o.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var r=1;r<=31;r+=1)e(r).replace(/\[|\]/g,"")===t&&(this.day=r)}],M:[i,a("month")],MM:[r,a("month")],MMM:[s,function(t){var e=c("months"),n=(c("monthsShort")||e.map((function(t){return t.substr(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[s,function(t){var e=c("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,a("year")],YY:[r,function(t){t=+t,this.year=t+(t>68?1900:2e3)}],YYYY:[/\d{4}/,a("year")],Z:u,ZZ:u},h=function(t,r,i){try{var s=function(t){for(var r=(t=e(t,o&&o.formats)).match(n),i=r.length,s=0;s<i;s+=1){var a=r[s],u=d[a],c=u&&u[0],f=u&&u[1];r[s]=f?{regex:c,parser:f}:a.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,s=0;n<i;n+=1){var o=r[n];if("string"==typeof o)s+=o.length;else{var a=o.regex,u=o.parser,c=t.substr(s),f=a.exec(c)[0];u.call(e,f),t=t.replace(f,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}(r)(t),a=s.year,u=s.month,c=s.day,f=s.hours,h=s.minutes,l=s.seconds,m=s.milliseconds,p=s.zone,$=new Date,g=c||(a||u?1:$.getDate()),D=a||$.getFullYear(),M=0;a&&!u||(M=u>0?u-1:$.getMonth());var x=f||0,v=h||0,y=l||0,w=m||0;return p?new Date(Date.UTC(D,M,g,x,v,y,w+60*p.offset*1e3)):i?new Date(Date.UTC(D,M,g,x,v,y,w)):new Date(D,M,g,x,v,y,w)}catch(t){return new Date("")}};return function(t,e,n){n.p.customParseFormat=!0;var r=e.prototype,i=r.parse;r.parse=function(t){var e=t.date,r=t.utc,s=t.args;this.$u=r;var a=s[1];if("string"==typeof a){var u=!0===s[2],c=!0===s[3],f=u||c,d=s[2];c&&(d=s[2]),o=this.$locale(),!u&&d&&(o=n.Ls[d]),this.$d=h(e,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),f&&e!==this.format(a)&&(this.$d=new Date("")),o={}}else if(a instanceof Array)for(var l=a.length,m=1;m<=l;m+=1){s[1]=a[m-1];var p=n.apply(this,s);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}m===l&&(this.$d=new Date(""))}else i.call(this,t)}}}()},178:function(t){t.exports=function(){"use strict";return function(t,e,n){var r=e.prototype;n.utc=function(t){return new e({date:t,utc:!0,args:arguments})},r.utc=function(t){var e=n(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),"minute"):e},r.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var i=r.parse;r.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),i.call(this,t)};var s=r.init;r.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else s.call(this)};var o=r.utcOffset;r.utcOffset=function(t,e){var n=this.$utils().u;if(n(t))return this.$u?0:n(this.$offset)?o.call(this):this.$offset;var r=Math.abs(t)<=16?60*t:t,i=this;if(e)return i.$offset=r,i.$u=0===t,i;if(0!==t){var s=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(i=this.local().add(r+s,"minute")).$offset=r,i.$x.$localOffset=s}else i=this.utc();return i};var a=r.format;r.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return a.call(this,e)},r.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var u=r.toDate;r.toDate=function(t){return"s"===t&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var c=r.diff;r.diff=function(t,e,r){if(t&&this.$u===t.$u)return c.call(this,t,e,r);var i=this.local(),s=n(t).local();return c.call(i,s,e,r)}}}()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,n),s.exports}(()=>{const t=n(484),e=n(285),r=n(178);t.extend(e),t.extend(r);const i="YYYYMMDDTHHmmss";window.SNTools=new class{generateUUID(){const t=window.crypto||window.msCrypto;if(t){const e=new Uint32Array(4);t.getRandomValues(e);let n=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){n++;const r=e[n>>3]>>n%8*4&15;return("x"==t?r:3&r|8).toString(16)}))}{let t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}}strip(t){if("string"!=typeof t)return"";const e=document.implementation.createHTMLDocument("New").body;return e.innerHTML=t,e.textContent||e.innerText||""}loadXMLString(t,e){let n;if(window.DOMParser){n=(new DOMParser).parseFromString(t,`text/${e}`)}else n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t);return n}downloadSNData(t,e){let n=null;const r=function(t){let e=new Blob([t],{type:"text/json"});return null!==n&&window.URL.revokeObjectURL(n),n=window.URL.createObjectURL(e),n}(JSON.stringify(t,null,2)),i=document.createElement("a");i.setAttribute("download",e),i.href=r,document.body.appendChild(i),i.click(),document.body.removeChild(i)}convertENEXDatatoSN(e,n=!1,r="evernote"){const s=this.loadXMLString(e,"xml").getElementsByTagName("note");let o,a=[],u=[];function c(t){return u.filter((function(e){return e.content.title==t}))[0]}function f(t){u.push(t)}r&&(o={uuid:this.generateUUID(),content_type:"Tag",content:{title:r,references:[]}});for(const e of s){const r=e.getElementsByTagName("title")[0].childNodes[0].nodeValue,s=e.getElementsByTagName("created")[0].childNodes[0].nodeValue,u=e.getElementsByTagName("updated"),d=u.length?u[0].childNodes[0].nodeValue:null,h=e.getElementsByTagName("content")[0];let l;for(const t of h.childNodes)if(t instanceof CDATASection){l=t.nodeValue;break}let m=this.loadXMLString(l,"html").getElementsByTagName("en-note")[0].innerHTML;n&&(m=m.replace(/<\/div>/g,"</div>\n"),m=m.replace(/<li[^>]*>/g,"\n"),m=m.trim());const p=n?this.strip(m):m,$={created_at:t.utc(s,i).toDate(),updated_at:d?t.utc(d,i).toDate():t.utc(s,i).toDate(),uuid:this.generateUUID(),content_type:"Note",content:{title:r,text:p,references:[]}};this.setClientUpdatedAt($,$.updated_at),o&&o.content.references.push({content_type:"Note",uuid:$.uuid});const g=e.getElementsByTagName("tag");for(const t of g){const e=t.childNodes[0].nodeValue;let n=c(e);n||(n={uuid:this.generateUUID(),content_type:"Tag",created_at:new Date,updated_at:new Date,content:{title:e,references:[]}},f(n)),$.content.references.push({content_type:n.content_type,uuid:n.uuid}),n.content.references.push({content_type:$.content_type,uuid:$.uuid})}a.push($)}let d=a.concat(u);return o&&d.push(o),{items:d}}convertGKeepNotes(t,e=!1){let n=[];for(const r of t){const t=this.parseJsonGKeepNote(r.content);if(t){n.push(t);continue}const i=document.createElement("html");let s,o;i.innerHTML=r.content;try{const t=i.getElementsByClassName("content")[0];t.innerHTML=t.innerHTML.replace(/<br>/g,"\n"),s=e?t.textContent:t.innerHTML}catch(t){console.log(r.name,"is an invalid note (no content)");continue}try{o=i.getElementsByClassName("title")[0].innerHTML}catch(t){console.log(r.name,"is an invalid note (no title)");continue}const a=this.getDateFromGKeepNote(!0,r.content)||this.getDateFromGKeepNote(!1,r.content)||new Date,u={created_at:a,updated_at:a,uuid:this.generateUUID(),content_type:"Note",content:{title:o,text:s,references:[]}};this.setClientUpdatedAt(u,a),n.push(u)}return{items:n}}getDateFromGKeepNote(t,e){let n;n=t?/.*(?=<\/div>\n<div class="title">)/:/.*(?=<\/div>\n\n<div class="content">)/;const r=n.exec(e);return!(!r||!r[0]||isNaN(new Date(r)))&&new Date(r)}parseJsonGKeepNote(t){try{const e=JSON.parse(t),n=new Date(e.userEditedTimestampUsec/1e3);return{created_at:n,updated_at:n,uuid:this.generateUUID(),content_type:"Note",content:{title:e.title,text:e.textContent,references:[],appData:{"org.standardnotes.sn":{client_updated_at:n,archived:Boolean(e.isArchived),trashed:Boolean(e.isTrashed),pinned:Boolean(e.isPinned)}}}}}catch(t){return null}}setClientUpdatedAt(t,e){t.content.appData={"org.standardnotes.sn":{client_updated_at:e}}}convertPlaintextFiles(t,e){let n=0,r=[];const i=(new Date).toLocaleDateString().replace(/\//g,"-"),s={uuid:this.generateUUID(),content_type:"Tag",content:{title:`${i}-import`,references:[]}};r.push(s);const o=function(){const i=t[n];n++;const a=new FileReader;a.onload=function(a){const u=a.target.result,c={created_at:new Date(i.lastModified),updated_at:new Date(i.lastModified),uuid:this.generateUUID(),content_type:"Note",content:{title:i.name.split(".")[0],text:u,references:[]}};this.setClientUpdatedAt(c,c.updated_at),r.push(c),s.content.references.push({content_type:"Note",uuid:c.uuid}),n<t.length?o():e({items:r})}.bind(this),a.readAsText(i)}.bind(this);o()}convertSimplenoteFiles(t){let e=[];for(const n of t){const t=this.parseJsonSimplenote(n);t&&e.push(...t)}return{items:e}}parseJsonSimplenote(e){const n=(n,r=!1)=>n.reverse().map((n=>{const s=t.utc(n.creationDate,i).toDate(),o=t.utc(n.lastModified,i).toDate(),a=n.content.split("\r\n");let u,c;return 2===a.length&&a[1].length>0?(u=a[0],c=a[1]):(u=e.name.split(".")[0],c=n.content),{created_at:s,updated_at:o,uuid:this.generateUUID(),content_type:"Note",content:{title:u,text:c,references:[],appData:{"org.standardnotes.sn":{client_updated_at:o,trashed:r}}}}}));try{const t=JSON.parse(e.content),r=n(t.activeNotes),i=n(t.trashedNotes,!0);return[...r,...i]}catch(t){return null}}}})()})();